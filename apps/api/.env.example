# ========================================
# CONFIGURACIÓN DEL SERVIDOR
# ========================================
PORT=5000
NODE_ENV=development

# ========================================
# BASE DE DATOS
# ========================================
MONGO_URI=mongodb://localhost:27017/pos-app
# O MongoDB Atlas:
# MONGO_URI=mongodb+srv://usuario:password@cluster.mongodb.net/pos-app

# ========================================
# JWT
# ========================================
JWT_SECRET=tu_clave_secreta_super_segura_aqui

# ========================================
# FRONTEND URL
# ========================================
FRONTEND_URL=http://localhost:3000

# ========================================
# STRIPE (PAGOS)
# ========================================
# Claves de API de Stripe (https://dashboard.stripe.com/apikeys)
STRIPE_SECRET_KEY=sk_test_...  # Test: sk_test_... | Live: sk_live_...
STRIPE_PUBLISHABLE_KEY=pk_test_...  # Test: pk_test_... | Live: pk_live_...

# Webhook Secret (https://dashboard.stripe.com/webhooks)
# Obtener después de crear el webhook endpoint en Stripe Dashboard
STRIPE_WEBHOOK_SECRET=whsec_...

# Price IDs de los planes (https://dashboard.stripe.com/products)
# Crear productos en Stripe y obtener los Price IDs
STRIPE_PRICE_BASIC=price_...  # Plan Básico - $299 MXN/mes
STRIPE_PRICE_PRO=price_...     # Plan Pro - $599 MXN/mes

# ========================================
# INSTRUCCIONES PARA CONFIGURAR STRIPE
# ========================================
#
# 1. Crear cuenta en Stripe: https://stripe.com
#
# 2. Obtener claves API:
#    - Ir a: https://dashboard.stripe.com/apikeys
#    - Copiar "Secret key" y "Publishable key"
#    - IMPORTANTE: Usar claves de TEST mientras desarrollas
#
# 3. Crear productos y precios:
#    - Ir a: https://dashboard.stripe.com/products
#    - Crear producto "Plan Básico":
#      * Precio: $299 MXN
#      * Recurrente: Mensual
#      * Copiar el Price ID (price_...)
#    - Crear producto "Plan Pro":
#      * Precio: $599 MXN
#      * Recurrente: Mensual
#      * Copiar el Price ID (price_...)
#
# 4. Configurar webhook:
#    - Ir a: https://dashboard.stripe.com/webhooks
#    - Agregar endpoint: https://tu-dominio.com/api/payments/webhook
#    - Eventos a escuchar:
#      * checkout.session.completed
#      * customer.subscription.created
#      * customer.subscription.updated
#      * customer.subscription.deleted
#      * invoice.payment_succeeded
#      * invoice.payment_failed
#    - Copiar el "Signing secret" (whsec_...)
#
# 5. Para desarrollo local con webhooks:
#    - Instalar Stripe CLI: https://stripe.com/docs/stripe-cli
#    - Ejecutar: stripe listen --forward-to localhost:5000/api/payments/webhook
#    - Copiar el webhook secret que aparece
#

# ========================================
# EMAIL SERVICE (RECUPERACIÓN DE CONTRASEÑA)
# ========================================
# Opciones: mailtrap | sendgrid | gmail | smtp
EMAIL_SERVICE=mailtrap

# Remitente por defecto
EMAIL_FROM=noreply@pos-app.com
EMAIL_FROM_NAME=POS App

# ----------------------------------------
# MAILTRAP (Development/Testing) - RECOMENDADO PARA DESARROLLO
# ----------------------------------------
# Crear cuenta gratuita en: https://mailtrap.io
# 1. Registrarse en https://mailtrap.io
# 2. Ir a Email Testing > Inboxes > Mi First Inbox
# 3. Copiar las credenciales SMTP
MAILTRAP_HOST=sandbox.smtp.mailtrap.io
MAILTRAP_PORT=2525
MAILTRAP_USER=tu_usuario_mailtrap
MAILTRAP_PASS=tu_password_mailtrap

# ----------------------------------------
# SENDGRID (Production) - RECOMENDADO PARA PRODUCCIÓN
# ----------------------------------------
# Crear cuenta gratuita en: https://sendgrid.com
# Free tier: 100 emails/día para siempre
# 1. Registrarse en https://sendgrid.com
# 2. Ir a Settings > API Keys
# 3. Crear API Key con permisos de Mail Send
SENDGRID_API_KEY=SG.tu_api_key_de_sendgrid

# ----------------------------------------
# GMAIL (Testing) - ALTERNATIVA PARA PRUEBAS
# ----------------------------------------
# IMPORTANTE: Usar App Password, NO tu contraseña normal
# 1. Ir a https://myaccount.google.com/apppasswords
# 2. Generar contraseña de aplicación
# 3. Copiar la contraseña de 16 caracteres
GMAIL_USER=tu-email@gmail.com
GMAIL_PASS=abcd efgh ijkl mnop

# ----------------------------------------
# SMTP CUSTOM (Production con hosting propio)
# ----------------------------------------
# Usar si tienes tu propio servidor de email
SMTP_HOST=mail.tu-dominio.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=noreply@tu-dominio.com
SMTP_PASS=tu_contraseña_smtp
